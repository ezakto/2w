!function(a){"use strict";function l(){var a=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;h._expre=new RegExp(h.expressionStart.replace(a,"\\$&")+"(.*?)"+h.expressionEnd.replace(a,"\\$&")),m(c.documentElement),f.forEach(function(a){var b=a.shift();b.apply(null,a.map(function(a){return u(a).$scope}))}),o()}function m(a){var b,c;if(1===a.nodeType&&a.hasAttribute(h.controllerAttr)&&(e[a.getAttribute(h.controllerAttr)]=n(a)),a.hasChildNodes())for(b=0,c=a.childNodes.length;c>b;b++)m(a.childNodes[b])}function n(a,b,c){var d,e,g;if(typeof b!==i.object&&(b=u(b)),c&&(b.force=!0),1===a.nodeType&&a.hasAttributes())for(d=0,e=a.attributes.length;e>d;d++)n(a.attributes[d],b);if(a.hasChildNodes())for(d=0,e=a.childNodes.length;e>d;d++)n(a.childNodes[d],b);else 1!==a.nodeType||"INPUT"!==a.nodeName&&"TEXTAREA"!==a.nodeName?2===a.nodeType?(g=a.value.search(h._expre),-1!==g&&(a.$2w_id=Math.random(),b.org[a.$2w_id]=a.value,b.dic[a.$2w_id]=a)):3===a.nodeType&&(g=a.nodeValue.search(h._expre),-1!==g&&(a.$2w_id=Math.random(),b.org[a.$2w_id]=a.textContent,b.dic[a.$2w_id]=a)):a.hasAttribute(h.formModelAttr)&&(a.$2w_id=Math.random(),b.dic[a.$2w_id]=a,q(a,b));return b}function o(){var a,b,d,f;if(g){g=!1;for(d in e)if(f=e[d],f.force||!r(f.$scope,f._scope)){for(b in f.dic)if(a=f.dic[b],1!==a.nodeType||"INPUT"!==a.nodeName&&"TEXTAREA"!==a.nodeName){if(2===a.nodeType||3===a.nodeType)for(f.tmp[a.$2w_id]||(f.tmp[a.$2w_id]=f.org[a.$2w_id]);-1!==f.tmp[a.$2w_id].search(h._expre);)f.tmp[a.$2w_id]=f.tmp[a.$2w_id].replace(h._expre,function(a,b){return p.call(f,b)})}else{if(a===c.activeElement)continue;a.value=p.call(f,a.getAttribute(h.formModelAttr))}for(b in f.dic)a=f.dic[b],2===a.nodeType?a.value=f.tmp[a.$2w_id]:3===a.nodeType&&(a.textContent=f.tmp[a.$2w_id]);f._scope=s(f.$scope),f.force=!1,f.tmp={}}setTimeout(o,h.interval),g=!0}}function p(a){var b,c;try{c=new Function("with (this.$scope) { return ("+a+"); }"),b=c.call(this),(null===b||"undefined"==typeof b)&&(b="")}catch(d){b=""}return b}function q(a,b){var c=function(){b.$scope[this.getAttribute(h.formModelAttr)]=this.value};a.addEventListener("keypress",c,!1),a.addEventListener("keyup",c,!1)}function r(a,b){var c,d,e,f,g,h;if(a===b)return!0;if(g=typeof a,h=typeof b,g!==h||g!==i.func&&g!==i.object&&h!==i.func&&h!==i.object&&a!==b)return!1;if(g=k.call(a),h=k.call(b),g!==h)return!1;if(g===j.array){if((d=a.length)!==b.length)return!1;for(c=0;d>c;c++)if(!r(a[c],b[c]))return!1}else if(g===j.object){d=0;for(f in a)if(d++,!r(a[f],b[f]))return!1;for(f in b)e++;if(d!==e)return!1}return!0}function s(a){var b,c,d,e,f;if(e=typeof a,e!==i.object)return a;if(e=k.call(a),e===j.array)for(f=[],b=0,d=a.length;d>b;b++)f.push(s(a[b]));else if(e===j.object){f={};for(c in a)f[c]=s(a[c])}return f}function u(a,b){var c;return"undefined"==typeof b?e[a]||(e[a]={_scope:{},$scope:{},dic:{},org:{},tmp:{}}):(c=a.split(/\s+/),c.unshift(b),f.push(c),d)}var c=a.document,d=a.$2w={},e={},f=[],g=!0,h=d.config={controllerAttr:"data-controller",formModelAttr:"data-model",expressionStart:"{{",expressionEnd:"}}",interval:50},i={object:"object",array:"object",func:"function"},j={object:"[object Object]",array:"[object Array]",func:"[object Function]"},k=Object.prototype.toString;!Array.prototype.forEach&&(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c++)a.call(b,this[c],c,this)}),d.controller=function(a,b){return"undefined"==typeof b?u(a).$scope:u(a,b)},d.attachController=function(a,b){return n(a,b,!0).$scope},c.addEventListener&&c.addEventListener("DOMContentLoaded",l,!1),c.attachEvent&&c.attachEvent("onreadystatechange",function(){"complete"===c.readyState&&l()})}(window);