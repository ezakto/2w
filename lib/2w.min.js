!function(a){"use strict";function k(){var a=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;g._expre=new RegExp(g.expressionStart.replace(a,"\\$&")+"(.*?)"+g.expressionEnd.replace(a,"\\$&")),l(b.documentElement),e.forEach(function(a){var b=a.shift();b.apply(null,a.map(function(a){return t(a).$scope}))}),n()}function l(a){var b,c;if(1===a.nodeType&&a.hasAttribute(g.controllerAttr)&&(d[a.getAttribute(g.controllerAttr)]=m(a)),a.hasChildNodes())for(b=0,c=a.childNodes.length;c>b;b++)l(a.childNodes[b])}function m(a,b,c){var d,e,i;if(typeof b!==h.object&&(b=t(b)),c&&(b.force=!0),1===a.nodeType&&a.hasAttributes())for(d=0,e=a.attributes.length;e>d;d++)m(a.attributes[d],b);if(a.hasChildNodes())for(d=0,e=a.childNodes.length;e>d;d++)m(a.childNodes[d],b);else 1!==a.nodeType||"INPUT"!==a.nodeName&&"TEXTAREA"!==a.nodeName?2===a.nodeType?(i=a.value.search(g._expre),-1!==i&&(a.$2w_id=Math.random(),b.org[a.$2w_id]=a.value,b.dic[a.$2w_id]=a)):3===a.nodeType&&(i=a.nodeValue.search(g._expre),-1!==i&&(a.$2w_id=Math.random(),b.org[a.$2w_id]=a.textContent,b.dic[a.$2w_id]=a)):a.hasAttribute(g.formModelAttr)&&(a.$2w_id=Math.random(),b.dic[a.$2w_id]=a,p(a,b));return b}function n(){var a,c,e,h;if(f){f=!1;for(e in d)if(h=d[e],h.force||!q(h.$scope,h._scope)){for(c in h.dic)if(a=h.dic[c],1!==a.nodeType||"INPUT"!==a.nodeName&&"TEXTAREA"!==a.nodeName){if(2===a.nodeType||3===a.nodeType)for(h.tmp[a.$2w_id]||(h.tmp[a.$2w_id]=h.org[a.$2w_id]);-1!==h.tmp[a.$2w_id].search(g._expre);)h.tmp[a.$2w_id]=h.tmp[a.$2w_id].replace(g._expre,function(a,b){return o.call(h,b)})}else{if(a===b.activeElement)continue;a.value=o.call(h,a.getAttribute(g.formModelAttr))}for(c in h.dic)a=h.dic[c],2===a.nodeType?a.value=h.tmp[a.$2w_id]:3===a.nodeType&&(a.textContent=h.tmp[a.$2w_id]);h._scope=r(h.$scope),h.force=!1,h.tmp={}}setTimeout(n,g.interval),f=!0}}function o(a){var b,c;try{c=new Function("with (this.$scope) { return ("+a+"); }"),b=c.call(this),(null===b||"undefined"==typeof b)&&(b="")}catch(d){b=""}return b}function p(a,b){var c=function(){b.$scope[this.getAttribute(g.formModelAttr)]=this.value};a.addEventListener("keypress",c,!1),a.addEventListener("keyup",c,!1)}function q(a,b){var c,d,e,f,g,k;if(a===b)return!0;if(g=typeof a,k=typeof b,g!==k||g!==h.func&&g!==h.object&&k!==h.func&&k!==h.object&&a!==b)return!1;if(g=j.call(a),k=j.call(b),g!==k)return!1;if(g===i.array){if((d=a.length)!==b.length)return!1;for(c=0;d>c;c++)if(!q(a[c],b[c]))return!1}else if(g===i.object){d=0;for(f in a)if(d++,!q(a[f],b[f]))return!1;e=0;for(f in b)e++;if(d!==e)return!1}return!0}function r(a){var b,c,d,e,f;if(e=typeof a,e!==h.object)return a;if(e=j.call(a),e===i.array)for(f=[],b=0,d=a.length;d>b;b++)f.push(r(a[b]));else if(e===i.object){f={};for(c in a)f[c]=r(a[c])}return f}function t(a,b){var f;return"undefined"==typeof b?d[a]||(d[a]={_scope:{},$scope:{},dic:{},org:{},tmp:{}}):(f=a.split(/\s+/),f.unshift(b),e.push(f),c)}var b=a.document,c=a.$2w={},d={},e=[],f=!0,g=c.config={controllerAttr:"data-controller",formModelAttr:"data-model",expressionStart:"{{",expressionEnd:"}}",interval:50},h={object:"object",array:"object",func:"function"},i={object:"[object Object]",array:"[object Array]",func:"[object Function]"},j=Object.prototype.toString;!Array.prototype.forEach&&(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;c++)a.call(b,this[c],c,this)}),c.controller=function(a,b){return"undefined"==typeof b?t(a).$scope:t(a,b)},c.attachController=function(a,b){return m(a,b,!0).$scope},b.addEventListener&&b.addEventListener("DOMContentLoaded",k,!1),b.attachEvent&&b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&k()})}(window);